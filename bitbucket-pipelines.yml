# This is a sample build configuration for Other.
# Check our guides at https://confluence.atlassian.com/x/5Q4SMw for more examples.
# Only use spaces to indent your .yml configuration.
# -----
# You can specify a custom docker image from Docker Hub as your build environment.

#image: atlassian/default-image:2
#
#pipelines:
#  default:
#    - step:
#        script:
#          - echo "Everything is awesome!"


image: jangrewe/gitlab-ci-android

stages:
  - build
  - test

variables:
  ANDROID_COMPILE_SDK: "28"
  ANDROID_BUILD_TOOLS: "28.0.2"
  ANDROID_SDK_TOOLS: "4333796"

build:
  stage: build
  script:
    - ./gradlew clean build assembleDebug
  artifacts:
    paths:
      - app/build/outputs/

test:
  stage: test
  script:
    - ./gradlew -Pci --console=plain test
